{
  "logging": {
    "level": "info"
  },
  "session": {
    "dmScope": "per-channel-peer"
  },
  "models": {
    "mode": "merge",
    "providers": {
      "zai": {
        "baseUrl": "https://api.z.ai/api/coding/paas/v4",
        "api": "openai-completions",
        "models": [
          {
            "id": "glm-5",
            "name": "GLM-5",
            "reasoning": true,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 204800,
            "maxTokens": 131072
          },
          {
            "id": "glm-4.7",
            "name": "GLM-4.7",
            "reasoning": true,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 204800,
            "maxTokens": 131072
          },
          {
            "id": "glm-4.7-flash",
            "name": "GLM-4.7 Flash",
            "reasoning": true,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 204800,
            "maxTokens": 131072
          },
          {
            "id": "glm-4.7-flashx",
            "name": "GLM-4.7 FlashX",
            "reasoning": true,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 204800,
            "maxTokens": 131072
          }
        ]
      },
      "openai": {
        "baseUrl": "https://api.openai.com/v1",
        "apiKey": "${OPENAI_API_KEY}",
        "api": "openai-completions",
        "models": [
          {
            "id": "gpt-4o",
            "name": "GPT-4o",
            "reasoning": false,
            "input": [
              "text"
            ],
            "cost": {
              "input": 0,
              "output": 0,
              "cacheRead": 0,
              "cacheWrite": 0
            },
            "contextWindow": 128000,
            "maxTokens": 8192
          }
        ]
      }
    }
  },
  "agents": {
    "defaults": {
      "model": {
        "primary": "zai/glm-5"
      },
      "models": {
        "zai/glm-5": {
          "alias": "GLM"
        },
        "openai/gpt-4o": {
          "alias": "gpt4"
        }
      },
      "contextPruning": {
        "tools": {
          "allow": []
        }
      }
    },
    "list": [
      {
        "id": "main",
        "name": "Hans AI Main",
        "workspace": "/app/.openclaw/workspace",
        "identity": {
          "name": "Hans",
          "theme": "Helpful AI assistant",
          "emoji": "ðŸ¤–"
        },
        "tools": {
          "profile": "full"
        }
      },
      {
        "id": "astrologer",
        "name": "WhatsApp Support",
        "workspace": "/app/.openclaw/workspace-astrologer",
        "heartbeat": {
          "every": "4h",
          "target": "whatsapp",
          "activeHours": {
            "start": "08:00",
            "end": "22:00"
          }
        },
        "skills": [
          "mcporter",
          "weather",
          "mem0",
          "qdrant",
          "mongo_logger"
        ],
        "identity": {
          "name": "Hans Support",
          "theme": "Customer support via WhatsApp",
          "emoji": "ðŸ’¬"
        },
        "tools": {
          "profile": "messaging",
          "alsoAllow": [
            "exec",
            "read",
            "memory_search",
            "memory_get",
            "sessions_spawn",
            "subagents",
            "write",
            "edit",
            "process",
            "cron",
            "tts",
            "image"
          ]
        }
      }
    ]
  },
  "bindings": [
    {
      "agentId": "main",
      "match": {
        "channel": "web"
      }
    },
    {
      "agentId": "astrologer",
      "match": {
        "channel": "whatsapp"
      }
    },
    {
      "agentId": "astrologer",
      "match": {
        "channel": "telegram"
      }
    }
  ],
  "commands": {
    "native": "auto",
    "nativeSkills": "auto",
    "restart": true
  },
  "memory": {
    "backend": "builtin"
  },
  "channels": {
    "whatsapp": {
      "configWrites": true,
      "sendReadReceipts": true,
      "dmPolicy": "open",
      "selfChatMode": true,
      "chunkMode": "newline",
      "allowFrom": [
        "*"
      ],
      "groupPolicy": "allowlist",
      "debounceMs": 0,
      "heartbeat": {
        "showOk": false,
        "showAlerts": true,
        "useIndicator": true
      },
      "mediaMaxMb": 50,
      "actions": {
        "reactions": true,
        "sendMessage": true,
        "polls": true
      }
    },
    "telegram": {
      "enabled": true,
      "configWrites": true,
      "dmPolicy": "open",
      "botToken": "${TELEGRAM_BOT_TOKEN}",
      "allowFrom": [
        "*"
      ],
      "groupPolicy": "allowlist",
      "dms": {},
      "streamMode": "partial",
      "actions": {
        "reactions": true,
        "sendMessage": true,
        "deleteMessage": true,
        "sticker": true
      }
    }
  },
  "gateway": {
    "port": 8000,
    "mode": "local",
    "bind": "loopback",
    "controlUi": {
      "enabled": true,
      "allowInsecureAuth": true,
      "dangerouslyDisableDeviceAuth": true,
      "allowedOrigins": [
        "*"
      ],
      "dangerouslyAllowHostHeaderOriginFallback": true
    },
    "auth": {
      "mode": "token",
      "token": "${OPENCLAW_GATEWAY_TOKEN}"
    },
    "trustedProxies": [
      "10.0.0.0/8",
      "172.16.0.0/12",
      "192.168.0.0/16"
    ],
    "http": {
      "endpoints": {
        "chatCompletions": {
          "enabled": true
        },
        "responses": {
          "enabled": true
        }
      }
    }
  },
  "plugins": {
    "entries": {
      "telegram": {
        "enabled": true
      },
      "whatsapp": {
        "enabled": true
      }
    }
  }
}